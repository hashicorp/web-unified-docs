---
page_title: Use version control for infrastructure
description: Implement version control for infrastructure configuration to enable collaboration, change tracking, rollback capabilities, and audit trails.
---

# Use version control for infrastructure

Version control systems create a single source of truth for infrastructure configuration, providing predictability and visibility into infrastructure changes. Without version control, infrastructure configuration exists in production systems, local workstations, or shared drives, making it impossible to track who changed what, when, and why. Configuration drift occurs when different team members apply conflicting changes without coordination.

Storing infrastructure configuration in version control enables collaboration through code reviews, provides rollback capabilities when changes cause problems, creates audit trails for compliance requirements, and documents infrastructure evolution over time. Version control transforms infrastructure management from a manual, error-prone process into a collaborative, repeatable workflow.

## Why use version control

Version control for infrastructure addresses the following operational challenges:

- **Enable safe collaboration across teams:** Without version control, team members overwrite each other's changes or duplicate work unknowingly. Version control allows multiple engineers to work on infrastructure simultaneously, merge changes safely, and review each other's work before applying modifications to production.

- **Provide rollback capabilities when changes fail:** Infrastructure changes occasionally cause outages or performance degradation that require immediate rollback. Version control allows you to revert to previous working configurations quickly, reducing incident duration and impact.

- **Create audit trails for compliance and security:** Compliance frameworks require documented evidence of who made infrastructure changes and why. Version control provides complete change history with commit messages, timestamps, and author information that satisfies audit requirements.

- **Prevent configuration drift and maintain consistency:** Manual infrastructure changes applied directly to production environments create configuration drift between environments and between documentation and reality. Version control ensures infrastructure definitions match actual state and provides a mechanism to detect and correct drift.

## Implement version control with HCP Terraform

HCP Terraform integrates directly with version control systems like GitHub, GitLab, and Bitbucket, creating automated workflows that apply infrastructure changes when you merge code. When you connect a workspace to a version control repository, HCP Terraform monitors the repository for changes and automatically triggers Terraform runs when you push commits or merge pull requests.

Version control integration enables infrastructure code reviews before applying changes. Team members propose infrastructure modifications through pull requests, add comments and suggestions, review plan output showing exactly what will change, and approve changes before HCP Terraform applies them to production. HCP Terraform displays plan output directly in pull requests, allowing reviewers to understand infrastructure impact without local Terraform installations.

GitHub Actions integrate with HCP Terraform to create custom CI/CD workflows for infrastructure. You can run tests on Terraform code, enforce code quality standards, automatically plan changes on pull requests, and deploy infrastructure based on custom triggers. HashiCorp provides official GitHub Actions that interact with the HCP Terraform API, simplifying workflow automation.

The following diagram shows how HCP Terraform integrates with GitHub Actions:

![Diagram showing HCP Terraform integrated with GitHub Actions for automated infrastructure workflows](/img/well-architected-framework/hcp-tf-github-actions-workflow.png)

Version control also enables infrastructure testing workflows. You can create test cases using Terraform's testing framework, validate configurations against policy requirements, and verify infrastructure changes in ephemeral test environments before applying to production. Tests run automatically in CI/CD pipelines, preventing broken configurations from reaching production.

HashiCorp resources:

- [Standardize workflows](/well-architected-framework/define-and-automate-processes/define/standardize-workflows) to create consistent version-controlled processes
- [Map your workflows](/well-architected-framework/define-and-automate-processes/define/workflows) to identify processes that need version control

Get started with version control for infrastructure:

- Learn Terraform with the [Terraform tutorials](/terraform/tutorials) and read the [Terraform documentation](/terraform/docs)
- Automate infrastructure with the [GitHub Actions tutorial](/terraform/tutorials/automation/github-actions)
- Get started with [HCP Terraform](/terraform/cloud-docs) for team collaboration

Version control best practices:

- Follow the [Terraform code style guide](/terraform/language/style) for consistent formatting
- Write infrastructure tests with the [Terraform testing framework](/terraform/tutorials/configuration-language/test)
- Learn about [VCS workflows in HCP Terraform](/terraform/cloud-docs/vcs) for integration patterns

External resources:

- [Why should I use version control for infrastructure?](https://www.hashicorp.com/resources/why-use-version-control-for-infrastructure) explains the benefits
- [DevOps - Version your infrastructure](https://devops.com/version-your-infrastructure/) covers version control practices

## Next steps

In this section, you learned how to implement version control for infrastructure configuration to enable collaboration, change tracking, and rollback capabilities. You explored how HCP Terraform integrates with version control systems to automate infrastructure workflows and enable code reviews. Use version control for infrastructure is part of the [Define and automate processes pillar](/well-architected-framework/define-and-automate-processes).

Visit the following documents to continue building your infrastructure automation:

- [Implement CI/CD](/well-architected-framework/define-and-automate-processes/automate/cicd) to automate version-controlled infrastructure deployments
- [Assess your automation maturity](/well-architected-framework/define-and-automate-processes/process-automation) to understand your current practices
- [Create reusable modules](/well-architected-framework/define-and-automate-processes/define/modules) to version and share infrastructure components