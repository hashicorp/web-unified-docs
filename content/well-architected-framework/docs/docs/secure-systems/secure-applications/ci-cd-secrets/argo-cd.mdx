---
page_title: Argo CD
description: Integrate Argo CD with HashiCorp Vault using Kubernetes authentication. Synchronize secrets to Kubernetes with Vault Secrets Operator for GitOps workflows.
---

# Argo CD

Argo CD is a Kubernetes-native GitOps continuous delivery tool that synchronizes application state from Git repositories to Kubernetes clusters. Integrating Vault with Argo CD keeps secrets out of Git while maintaining GitOps principles through the [Kubernetes auth method](/vault/docs/auth/kubernetes) and [Vault Secrets Operator](/vault/docs/platform/k8s/vso).

## Why integrate Argo CD with Vault

Integrating Argo CD with Vault addresses the following critical security and operational challenges in GitOps workflows:

**Prevent secret exposure in Git and Argo CD:** Secrets stored directly in Git manifests create security risks because Argo CD caches generated manifests in plaintext in Redis and exposes them via the repo-server API. Anyone with access to Redis or the repo-server can read secret values. Vault keeps secrets out of Git entirely, with only non-sensitive Custom Resource references committed, reducing the attack surface.

**Simplify secret rotation workflows:** Rotating secrets stored in Git requires encrypting new values, committing changes, and triggering Argo CD sync operations. Vault rotates secrets independently of Git, updating Kubernetes Secrets without Argo CD sync intervention while maintaining audit trails.

**Eliminate per-cluster encryption key management:** Solutions like Sealed Secrets and SOPS require managing encryption keys in each Kubernetes cluster, creating operational burden and key rotation challenges. Vault centralizes secret management with unified authentication and access control.

**Encrypt Kubernetes Secrets at rest:** Kubernetes Secrets are base64-encoded, not encrypted, and are stored in etcd without encryption unless explicitly configured. Anyone with API access to the namespace can read secret values. Vault provides encryption at rest and in transit, with secrets synchronized to Kubernetes only when needed.

**Enable granular audit logging:** Kubernetes does not provide granular audit logging for Secret reads by default, making it difficult to track which applications accessed which secrets and when for compliance and security investigations. Vault provides comprehensive audit logs that track every secret access with application identity and timestamp.

## Prerequisites

Before integrating Argo CD with Vault, you need the following:

- A Vault instance or HCP Vault accessible from your Kubernetes cluster over the network
- Kubernetes cluster with Argo CD installed and administrator access
- Vault Kubernetes auth method configured to trust your cluster's service account tokens
- Vault policies that grant Kubernetes service accounts the necessary read permissions for your secrets. Each policy should follow the principle of least privilege by specifying exact secret paths rather than using wildcards. Policies must be attached to Kubernetes auth method roles that bind to specific service accounts and namespaces.
- We recommend TLS encryption between Kubernetes pods and Vault

## Choose an integration approach

Several approaches exist for integrating Vault with Argo CD and Kubernetes, each optimized for different use cases. The Vault Secrets Operator provides the best balance of ease-of-use and functionality for most GitOps workflows, while alternatives like AVP or External Secrets Operator address specific requirements.

The following are common approaches for integrating Vault with Argo CD:

- **Vault Secrets Operator:** The [Vault Secrets Operator](/vault/docs/platform/k8s/vso) synchronizes Vault secrets to Kubernetes Secret objects using Custom Resource Definitions (CRDs). The operator provides the lowest load on Vault, supports automatic secret drift detection and remediation, and works with standard Kubernetes patterns. Use the Vault Secrets Operator when you want a Kubernetes-native approach with minimal application changes.

- **Argo CD Vault Plugin (AVP):** The [Argo CD Vault Plugin](https://argocd-vault-plugin.readthedocs.io/) is a community plugin that replaces placeholder values in Kubernetes manifests with secrets from Vault during Argo CD sync operations. Use AVP when you want inline secret references in your GitOps manifests.

- **External Secrets Operator:** The [External Secrets Operator](https://external-secrets.io/) is a vendor-neutral Kubernetes operator that synchronizes secrets from multiple external stores, including Vault, to Kubernetes Secrets. Use the External Secrets Operator when you need to manage secrets from multiple backends in addition to Vault.

- **Vault Agent sidecar:** The [Vault Agent Injector](/vault/docs/platform/k8s/injector) injects Vault Agent sidecar containers that render secrets to shared volumes. The Vault Agent sidecar approach supports the widest range of auth methods but has higher resource consumption. Use the Vault Agent sidecar when you need maximum auth method flexibility.

## Best practices

The following best practices help you secure and operationalize Vault integration with Argo CD:

- **Use Kubernetes namespaces for isolation:** Deploy applications in separate namespaces to create security boundaries. Configure Vault Kubernetes auth method roles to bind service accounts to specific namespaces, ensuring applications can only authenticate from their designated namespace.

- **Create dedicated Vault roles for Argo CD applications:** Define separate Vault roles for each application or service deployed by Argo CD. Bind each role to the application's specific service account and namespace combination using the Kubernetes auth method's bound service account names and namespaces configuration.

- **Implement least-privilege policies per application:** Write Vault policies that grant each application the minimum permissions required for its operation. Grant read access only to the specific secret paths each application needs, avoiding wildcard permissions or broad path access.

- **Use dynamic secrets where possible:** Prefer dynamic secrets over static secrets for database credentials, cloud provider credentials, and other infrastructure access. Dynamic secrets provide automatic rotation, time-limited credentials, and better audit trails without requiring manual rotation workflows.

- **Configure appropriate secret TTLs:** Set secret time-to-live (TTL) values based on your security requirements and application restart patterns. Shorter TTLs reduce the risk window if credentials are compromised but increase Vault API load and require more frequent application credential refreshes.

For complete implementation guidance including Vault Secrets Operator installation, authentication setup, and verification steps, review the following HashiCorp resources.

## HashiCorp resources

Kubernetes integration and configuration:

- Compare [Kubernetes integrations](/vault/docs/platform/k8s/comparisons) to choose between Vault Secrets Operator, CSI provider, and Agent Injector
- Complete the [Vault Secrets Operator tutorial](/vault/tutorials/kubernetes/vault-secrets-operator) for a hands-on walkthrough of the integration
- Review [Vault Secrets Operator examples](/vault/docs/platform/k8s/vso/examples) for complete YAML configurations covering authentication, static secrets, and dynamic secrets
- Read the [Vault Secrets Operator documentation](/vault/docs/platform/k8s/vso) for installation and configuration reference

Vault authentication for Kubernetes:

- Read the [Vault authentication methods documentation](/vault/docs/auth) for an overview of available auth methods
- Learn about [Kubernetes auth method](/vault/docs/auth/kubernetes) for service account authentication
- Configure [Kubernetes auth method](/vault/tutorials/kubernetes/kubernetes-aks-azure-ad) for Azure AKS with Azure AD
- Configure [Kubernetes auth method](/vault/tutorials/kubernetes/kubernetes-amazon-eks) for Amazon EKS

Vault secrets and dynamic credentials:

- Understand [dynamic and static secrets](/vault/tutorials/get-started/understand-static-dynamic-secrets) to choose the right approach for your applications
- Read the [KV secrets engine documentation](/vault/docs/secrets/kv) for static secret storage
- Explore [database secrets engine](/vault/docs/secrets/databases) for dynamic database credentials
- Learn about [AWS secrets engine](/vault/docs/secrets/aws) for dynamic cloud credentials

### External resources

Vault Secrets Operator for Kubernetes:

- Complete the [Vault Secrets Operator tutorial](https://developer.hashicorp.com/vault/tutorials/kubernetes-introduction/vault-secrets-operator)
- Review the [Vault Secrets Operator documentation](https://developer.hashicorp.com/vault/docs/platform/k8s/vso)
- Compare [Kubernetes integrations](https://developer.hashicorp.com/vault/docs/platform/k8s/comparisons)

Argo CD integration guides:

<VideoEmbed url="https://www.hashicorp.com/en/resources/exploring-hashicorp-vault-and-argocd-the-gitops-way"/>

Additional resources:

- Read the [Argo CD documentation](https://argo-cd.readthedocs.io/) for GitOps workflow configuration and best practices
- Review the [Argo CD Vault Plugin documentation](https://argocd-vault-plugin.readthedocs.io/) for inline secret substitution patterns
- Explore the [External Secrets Operator documentation](https://external-secrets.io/) for multi-backend secret management
- Learn about [Kubernetes Secrets](https://kubernetes.io/docs/concepts/configuration/secret/) for understanding native Kubernetes secret handling

## Next steps

In this section of [managing CI/CD secrets](/well-architected-framework/secure-systems/secure-applications/ci-cd-secrets), you learned about Argo CD and Vault integration. Argo CD and Vault integration is part of the [Secure systems pillar](/well-architected-framework/secure-systems).

- Review the [CI/CD secrets overview](/well-architected-framework/secure-systems/secure-applications/ci-cd-secrets) for architectural guidance across platforms
- Compare [dynamic and static secrets in CI/CD](/well-architected-framework/secure-systems/secure-applications/ci-cd-secrets/dynamic-and-static-secrets) to choose the right secrets strategy