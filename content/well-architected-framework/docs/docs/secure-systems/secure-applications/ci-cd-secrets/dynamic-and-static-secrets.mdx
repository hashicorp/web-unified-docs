---
page_title: Dynamic and static secrets in CI/CD
description: Compare dynamic and static secrets in CI/CD pipelines. Learn when to use short-lived credentials versus static secrets with Vault rotation policies.
---

# Dynamic and static secrets in CI/CD

CI/CD pipelines require access to secrets like database credentials, API keys, and cloud provider credentials. You can use two types of secrets in your pipelines: dynamic secrets that are generated on-demand and automatically expire, or static secrets that are manually created and remain until explicitly changed. Understanding the differences helps you choose the right approach for your security requirements and operational constraints.

## Comparing secret types

| Aspect | Dynamic Secrets | Static Secrets |
|--------|----------------|----------------|
| **Creation** | Generated by Vault on-demand | Manually created and stored |
| **Lifecycle** | Automatic expiration/revocation | Manual rotation/revocation |
| **Lifespan** | Short-lived (minutes to hours) | Long-lived (until changed) |
| **Uniqueness** | Unique per request | Shared across users/systems |
| **Auditing** | Detailed per-request tracking | Limited audit capabilities |
| **Risk** | Lower (minimal exposure time) | Higher (persistent credentials) |
| **Setup complexity** | Higher (requires secrets engine configuration) | Lower (simple key-value storage) |
| **Operational overhead** | Lower (automatic rotation) | Higher (manual rotation required) |

## When to use dynamic secrets

Use dynamic secrets when the external service supports programmatic credential generation:

**Cloud providers:** AWS, Azure, GCP secrets engines generate temporary access credentials with automatic expiration. Ideal for deployments that interact with cloud resources.

**Databases:** Database secrets engine creates unique credentials for each pipeline run with automatic revocation. Use for applications that need database access during deployment or testing.

**PKI certificates:** PKI secrets engine issues short-lived certificates for mutual TLS authentication. Ideal for service-to-service communication in microservices deployments.

**Benefits:**
- **Reduced risk:** Compromised credentials automatically expire
- **Automatic cleanup:** No manual revocation required
- **Unique tracking:** Each credential tied to specific pipeline run
- **Better auditing:** Clear audit trail of credential usage

## When to use static secrets

Use static secrets when dynamic generation is not possible or practical:

**Third-party API keys:** External services that don't support programmatic credential generation require static API keys stored in Vault's KV secrets engine.

**Shared certificates:** SSL/TLS certificates used by multiple services benefit from centralized storage with versioning and access control.

**Legacy systems:** Applications that cannot integrate with dynamic secrets engines can retrieve static credentials from Vault instead of storing them in code or configuration files.

**Configuration values:** Non-sensitive configuration data that requires centralized management and audit trails.

**Considerations:**
- Implement [rotation policies](/vault/docs/secrets/databases#schedule-based-static-role-rotation) to minimize exposure windows
- Use [versioned KV secrets engine](/vault/tutorials/secrets-management/versioned-kv) to track secret changes
- Configure appropriate TTLs for Vault tokens accessing static secrets

## Performance considerations

**Dynamic secret latency:** Each dynamic secret request requires Vault to generate credentials from the external service, adding latency to pipeline execution. Use appropriate TTLs to balance security with performance.

**Caching strategies:** Use [Vault Agent caching](/vault/docs/agent-and-proxy/agent/caching) or Vault Proxy to reduce direct Vault API calls from high-frequency pipelines. Caching is especially effective for static secrets.

**Rate limiting:** Configure [rate limit quotas](/vault/docs/configuration/create-rate-limit-quota) to protect your Vault cluster from excessive load when running many pipelines in parallel.

**Static vs dynamic trade-offs:** Static secrets have lower retrieval latency but require manual rotation. Dynamic secrets add per-request latency but provide better security posture through automatic expiration.

## HashiCorp resources

Secrets management patterns:

- Learn about [using dynamic credentials for secure authentication](/well-architected-framework/secure-systems/identity-access-management/use-dynamic-credentials) for broader authentication patterns
- Review [secret rotation strategies](/well-architected-framework/secure-systems/secrets/rotate-secrets) for protecting your applications
- Explore [securing static secrets with key/value storage](/well-architected-framework/secure-systems/secrets/store-static-secrets) for long-lived credentials

Understanding secrets types:

- Complete the [Understand dynamic secrets tutorial](/vault/tutorials/get-started/understand-static-dynamic-secrets) to learn the differences between secret types
- Read about [secrets engines](/vault/docs/secrets) for an overview of Vault's secrets management capabilities

Dynamic secrets:

- Learn about [database credential rotation](/vault/tutorials/db-credentials) for dynamic database credentials
- Explore [dynamic secrets for AWS authentication](/vault/tutorials/db-credentials/database-secrets) for S3 access
- Use the [SSH secrets engine for one-time passwords](/vault/tutorials/secrets-management/ssh-otp) for temporary SSH access
- Configure [AWS secrets engine](/vault/docs/secrets/aws) for dynamic cloud credentials
- Configure [Azure secrets engine](/vault/docs/secrets/azure) for dynamic Azure service principals

Static secrets:

- Read the [KV secrets engine documentation](/vault/docs/secrets/kv) for static secret storage
- Learn about [versioned KV secrets engine](/vault/tutorials/secrets-management/versioned-kv) for secret versioning
- Configure [schedule-based static role rotation](/vault/docs/secrets/databases#schedule-based-static-role-rotation) for automated rotation

### External resources

- [From Vulnerabilities to Vault: How We Stopped Hard-coding Secrets and Started Using HashiCorp Vault](https://journal.hexmos.com/how-to-use-hashicorp-vault/)
- [External Secrets Operator Vault Dynamic Secret](https://external-secrets.io/latest/api/generator/vault/)
- [GitOps Secrets with Argo CD, HashiCorp Vault and the External Secret Operator](https://codefresh.io/blog/gitops-secrets-with-argo-cd-hashicorp-vault-and-the-external-secret-operator/)
- [Use HashiCorp Vault's Dynamic Secrets](https://www.cockroachlabs.com/docs/stable/vault-db-secrets-tutorial)

## Next steps

In this section of [managing CI/CD secrets](/well-architected-framework/secure-systems/secure-applications/ci-cd-secrets), you learned about dynamic and static secrets for CI/CD pipelines. Dynamic and static secrets is part of the [Secure systems pillar](/well-architected-framework/secure-systems).

- Review the [CI/CD secrets overview](/well-architected-framework/secure-systems/secure-applications/ci-cd-secrets) for architectural guidance across platforms
