---
page_title: Create permissions and guardrails
description: Write effective identity and access management (IAM) policies that enforce permissions guardrails by using least privilege.
---

# Create permissions and guardrails

Once you have defined your access requirements, you can begin writing
policies that enforce permissions guardrails by using [least
privilege](/well-architected-framework/secure-systems/identity-access-management/grant-least-privilege)
policies.

Creating policies and enforcing guardrails is the process of translating
requirements into policies that define what users, applications, and systems can
do. Writing effective permissions involves converting the requirements for each
role or function within your organization when you [defined your access
requirements](/well-architected-framework/secure-systems/identity-access-management/define-access-requirements)
into policies for your systems.

## What are permissions

Permissions are the specific actions that users, applications, or systems can
take on resources. Permissions are typically defined in policies and used to
control access to resources in a system.

You can grant or deny permissions based on various factors, including the user's
role, group membership, the resources they access, and the context of the access
request. For example, a user may have permission to read data from a database
but not to write data to it.

The following is an example of a database permission and AWS S3 bucket policy
that follows least privilege:

<CodeBlockConfig hideClipboard>

```plaintext
GRANT SELECT ON ALL TABLES IN SCHEMA public TO readonly_user;
```

</CodeBlockConfig>

The PostgreSQL role `readonly_user` with the `SELECT` permission can select data from
tables, but not write or modify data.

An example AWS IAM policy that follows least privilege allows read-only access
to download files from the "company-reports" S3 bucket.

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::company-reports",
                "arn:aws:s3:::company-reports/*"
            ]
        }
    ]
}
```

## Define permissions as code

Where possible, define your permissions in policies as code. Defining
permissions in policies as code allows you to version control your policies,
track changes over time, and collaborate with your team. You can then use tools like
HashiCorp's Terraform or Red Hat's Ansible to deploy and update your policies.
Most systems support writing policies in JSON, YAML, or XML.

<VideoEmbed url="https://www.youtube.com/watch?v=cOOw4d_6WyA"/>

Some systems like HashiCorp's Vault and Sentinel support policies in custom languages like
the HashiCorp Configuration Language (HCL). JSON is another widely supported
format. HashiCorp Vault supports JSON based policies, in addition to HCL. AWS
Identity and Access Management (IAM) supports JSON-based policies. Other systems
like Active Directory may require scripting the policies in other languages like
PowerShell to create Group Policy Objects (GPOs).

Terraform helps you manage your policies for supported tools and services,
allowing you to define, update, and enforce policies as code. Using automation
to manage policies ensures that your policies are consistent, auditable, and can
be version controlled.

HashiCorp resources:

- [Access controls with Vault policies](/vault/tutorials/policies/policies)
- [Policy as code with Sentinel](/sentinel/docs/concepts/policy-as-code)
- [Create IAM policies with Terraform](/terraform/tutorials/aws/aws-iam-policy)
- [Use templates with Waypoint](/waypoint/tutorials/hcp-waypoint/use-template)

External resources:

- [Define, update, share, and enforce policies using code](https://developer.ibm.com/articles/policy-as-code-ansible-automation-engine-and-open-policy-agent/)
- [Introduction to policy as code with automation](https://www.redhat.com/en/blog/policy-as-code-automation)

## Next steps

Following these documents in order ensures a logical progression through the key
concepts and best practices, helping you build a strong foundation to build your
identity and access management program.

- [Define access requirements](/well-architected-framework/secure-systems/identity-access-management/define-access-requirements)
- [Grant least privilege](/well-architected-framework/secure-systems/identity-access-management/grant-least-privilege)
- **Create permissions and guardrails (this document)**
- [Centralize identity management](/well-architected-framework/secure-systems/identity-access-management/centralize-identity-management)
- [Implement strong sign-in workflows](/well-architected-framework/secure-systems/identity-access-management/implement-strong-sign-in-workflows)
- [Use dynamic credentials](/well-architected-framework/secure-systems/identity-access-management/use-dynamic-credentials)
- [Manage access lifecycle](/well-architected-framework/secure-systems/identity-access-management/manage-access-lifecycle)

In this section of **Identity and access management**, you learned the
difference between granting excessive permission and how it relates to the
concept of least privilege. Identity and access management is part of the
[Secure systems](/well-architected-framework/secure-systems) pillar.
