---
page_title: Migrating attribute schema
description: >-
  Learn how to migrate attribute schema from the SDKv2 to the Terraform plugin
  framework. Attribute schema define the attributes available to configure
  providers, resources, and data sources.
---

# Migrating attribute schema

This page explains how to migrate an individual attribute from SDKv2 to the
plugin framework.

Refer to the [Migrating schema](/terraform/plugin/framework/migrating/schema)
page in this migration guide to learn how to migrate your provider, resource, or
data source's schema to the framework.

Refer to [Schemas -
Attributes](/terraform/plugin/framework/handling-data/schemas#attributes) in the
framework documentation for details about implementing attribute schema with the
framework.

## Background

Attributes define how users can configure values for your Terraform provider,
resources, and data sources. Attributes are defined within your provider,
resource, or data source schema, and represent the values that can be configured
in their respective blocks and stored in state.

## Migrating an attribute

In SDKv2, attributes are defined by the `Schema` field in the provider,
resource, or data source schema. The `Schema` field maps each attribute name
(string) to the attribute's `schema.Schema` struct. Both resources and data
sources are defined using the `schema.Resource` struct.

In the Framework, define attributes by setting the `Attributes` field on your
provider, resource, or data type's schema, as returned by the `Schema` method.
The
[`schema.Schema`](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework/resource/schema#Schema)
type returned by
[`SchemaResponse`](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework/resource#SchemaResponse)
includes an `Attributes` field that maps each attribute name (string) to the
attribute's definition.

<Tabs>
<Tab heading="SDKv2">

The following code shows an implementation of attribute schema for a provider in
SDKv2.

```go
func ProviderExample() *schema.Provider {
    return &schema.Provider{
        Schema: map[string]*schema.Schema{
            "example_attribute": {
                Type:        schema.TypeString,
                Required:    true,
            },
            /* ... */
        }
    }
},
```

In SDKv2, resource and data source attributes are defined the same way on their
respective types. The following code shows an implementation of attribute schema
for a resource in SDKv2.

```go
func resourceExample() *schema.Resource {
    return &schema.Resource{
        Schema: map[string]*schema.Schema{
            "example_attribute": {
                Type:        schema.TypeString,
                Required:    true,
            },
            /* ... */
```

</Tab>
<Tab heading="Framework">

The following code shows how to define an attribute for a resource with the
framework.

```go
func (r *ThingResource) Schema(ctx context.Context, req resource.SchemaRequest, resp *resource.SchemaResponse) {
    resp.Schema = schema.Schema{
        Attributes: map[string]schema.Attribute{
            "example": /* ... */
```

</Tab>
</Tabs>

### Migration Notes

Remember the following differences between SDKv2 and the framework when
completing the migration.

- In SDKv2, attributes are defined by a map from attribute names to
  `schema.Schema` structs in the `Schema` field of your resource's schema. In
  the framework, attributes are defined by a map from attribute names to
  `schema.Attribute` implementations in your resource's schema, which is returned
  by the resource `Schema` method.
- In SDKv2, the computed string `id` attribute is implicitly included in the
  schema. In the framework, the `id` attribute must be explicitly defined in the
  schema.
- There are several differences between the implementation of attributes in
  SDKv2 and the Framework. Refer to the other pages in the Attributes & Blocks
  section of this migration guide for more details.

### Examples

#### String attribute

The following example shows the implementation of the `example_attribute`
attribute for the `exampleDataSource` data source.

<Tabs>
<Tab heading="SDKv2">

In SDKv2, attributes are defined in a `schema.Resource`, for both resources and
data sources.

```go
func exampleDataSource() *schema.Resource {
    return &schema.Resource{
        /* ... */
        Schema: map[string]*schema.Schema{
            "example_attribute": {
                Type:        schema.TypeString,
                Required:    true,
            },
        /* ... */
```

</Tab>
<Tab heading="Framework">

The following shows the same section of provider code after the migration.

This code implements the `example_attribute` attribute for the
`exampleDataSource` data source with the framework.

```go
func (d *exampleDataSource) Schema(ctx context.Context, req datasource.SchemaRequest, resp *datasource.SchemaResponse) {
    resp.Schema = schema.Schema{
        /* ... */
        Attributes: map[string]schema.Attribute{
            "example_attribute": schema.StringAttribute{
                Required:    true,
            },
            /* ... */
```

</Tab>
</Tabs>

<!-- FIXME: Maybe include initial examples for more complex types and link to their respective sub-pages? -->

## Next steps

Refer to the following pages in this migration guide to migrate your attributes
to the framework:

- Each attribute has an [attribute
  type](/terraform/plugin/framework/migrating/attributes-blocks/types). An
  attribute's type defines its expected data structure and syntax.
- [Attribute
  fields](/terraform/plugin/framework/migrating/attributes-blocks/fields) define
  optional behaviors of the attribute, such as `Required`, `Optional`,
  `Computed`, and `Sensitive`.
- [Attribute
  defaults](/terraform/plugin/framework/migrating/attributes-blocks/default-values)
  define a default value for the attribute.
- Some attributes require that a resource be replaced when their value changes.
  Use a [ForceNew
  trigger](/terraform/plugin/framework/migrating/attributes-blocks/force-new) to
  force replacement of the resource when the value is updated.
- Providers may implement attribute validation to define required syntax,
  constraints, or encoding for the attribute's value. Implement attribute
  validation with a [predefined
  validator](/terraform/plugin/framework/migrating/attributes-blocks/validators-predefined)
  or a [custom
  validator](/terraform/plugin/framework/migrating/attributes-blocks/validators-custom).
- Attributes can include
  [blocks](/terraform/plugin/framework/migrating/attributes-blocks/attribute-schema)
  and [computed
  blocks](/terraform/plugin/framework/migrating/attributes-blocks/blocks-computed)
  to define structural configuration sections of data, typically with nested
  attributes or further blocks.
