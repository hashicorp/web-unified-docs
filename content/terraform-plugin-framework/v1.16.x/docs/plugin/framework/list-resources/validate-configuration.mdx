---
page_title: Validate list resource configurations
description: >-
  Learn how to validate list resource configurations with the Terraform
  plugin framework.
---

# Validate list resource configurations

List resource supports validating the entire practitioner configuration in either declarative or imperative ways. Feedback such as required syntax or acceptable combination of values, is returned via [diagnostics](/terraform/plugin/framework/diagnostics).

This section describes implementation details for validating entire list configurations, typically referencing multiple attributes.

Further documentation is available for other configuration validation concepts:

- [Single attribute validation](/terraform/plugin/framework/validation#attribute-validation) is a schema-based mechanism for implementing attribute-specific validation logic.
- [Type validation](/terraform/plugin/framework/validation#type-validation) is a schema-based mechanism for implementing reusable validation logic for any attribute using the type.

-> Configuration validation in Terraform occurs without provider configuration ("offline"), therefore the list resource `Configure` method will not have been called.

## ConfigValidators Method

The [`list.ListResourceWithConfigValidators` interface](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework/list#ListResourceWithConfigValidators) follows a similar pattern to attribute validation and allows for a more declarative approach.

This enables consistent validation logic across multiple list resources. Each validation intended for this interface must implement the [`list.ConfigValidator` interface](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework/list#ConfigValidator).

The [`terraform-plugin-framework-validators` Go module](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework-validators) has a collection of common use case list configuration validators in the [`listresourcevalidator` package](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework-validators/listresourcevalidator).

These use [path expressions](/terraform/plugin/framework/path-expressions) for matching attributes.

This example will raise an error if a practitioner attempts to configure both `attribute_one` and `attribute_two`:

```go
// Other methods to implement the list.ListResource interface are omitted for brevity
type ThingListResource struct {}

func (r ThingListResource) ConfigValidators(ctx context.Context) []list.ConfigValidator {
    return []list.ConfigValidator{
        listvalidator.Conflicting(
            path.MatchRoot("attribute_one"),
            path.MatchRoot("attribute_two"),
        ),
    }
}
```

### ValidateConfig Method

The [`list.ListResourceWithValidateConfig` interface](https://pkg.go.dev/github.com/hashicorp/terraform-plugin-framework/list#ListResourceWithValidateConfig) allows for imperative validation logic and is useful for validating unique functionality across multiple attributes that typically applies to a single list resource.

```go
// Other methods to implement the list.ListResource interface are omitted for brevity
type ThingListResource struct {}

type ThingListResourceModel struct {
    AttributeOne types.String `tfsdk:"attribute_one"`
    AttributeTwo types.String `tfsdk:"attribute_two"`
}

func (r ThingListResource) ValidateConfig(ctx context.Context, req list.ValidateConfigRequest, resp *list.ValidateConfigResponse) {
    var data ThingListResourceModel

    resp.Diagnostics.Append(req.Config.Get(ctx, &data)...)

    if resp.Diagnostics.HasError() {
        return
    }

    // If attribute_one is not configured, return without warning.
    if data.AttributeOne.IsNull() || data.AttributeOne.IsUnknown() {
        return
    }

    // If attribute_two is not null, return without warning.
    if !data.AttributeTwo.IsNull() {
        return
    }

    resp.Diagnostics.AddAttributeWarning(
        path.Root("attribute_two"),
        "Missing Attribute Configuration",
        "Expected attribute_two to be configured with attribute_one. "+
            "The list resource may return unexpected results.",
    )
}
```