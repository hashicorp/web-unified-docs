---
page_title: Migration workflow
description: Migrate your Terraform provider from SDKv2 to the framework by following this workflow.
---

# Migration workflow

For providers that only implement a few resources and other Terraform features,
you can follow the workflow to [migrate your provider in a single release
cycle](#migrate-in-a-single-release-cycle). For complex providers that support a
number of resources and other Terraform features, we recommend that you follow
the workflow to [migrate over multiple release
cycles](#migrate-over-multiple-release-cycles) to incrementally migrate your
provider to the framework. Migration to the framework should not require any
changes to configuration that uses your provider. Remember to only introduce
breaking changes to your provider in [major version
updates](/terraform/plugin/best-practices/versioning#versioning-specification).

## Migrating to the framework

This migration guide provides information and examples for most common use
cases, but it does not discuss every nuance of migration. You can ask additional
migration questions in the [HashiCorp Discuss
forum](https://discuss.hashicorp.com/c/terraform-providers/tf-plugin-sdk/43).

To learn more about the Terraform provider framework, refer to the [framework
documentation](/terraform/plugin/framework/). To learn about the benefits of
migration from SDKv2, refer to the [migration
guide](/terraform/plugin/framework/migrating).

## Requirements

Before you migrate your provider to the framework, ensure it meets the following
requirements:

- Go 1.22+
- Built on the latest version of SDKv2
- The provider is for use with Terraform >= 0.12.0

To reduce the risk of introducing breaking changes during migration, we strongly
recommend that your ensure adequate [test
coverage](/terraform/plugin/sdkv2/testing) before you begin migrating your
provider to the framework.

## Migrate in a single release cycle

To migrate your provider in a single release cycle, follow the steps below.

1. Ensure the SDKv2 version of your provider has sufficient [test
   coverage](/terraform/plugin/sdkv2/testing) and that all tests pass.
1. Review your provider code for [SDKv2 resource data consistency
   errors](/terraform/plugin/sdkv2/resources/data-consistency-errors), which
   might affect migrating to the framework. Some errors can be resolved and
   verified with SDKv2 code before you begin migration. Otherwise, you will need
   to resolve these errors as [part of the
   migration](/terraform/plugin/framework/migrating/resources/crud#resolving-data-consistency-errors).
1. [Serve your
   provider](/terraform/plugin/framework/migrating/providers#serving-the-provider)
   via the framework.
1. Update the [provider
   definition](/terraform/plugin/framework/migrating/providers#provider-definition)
   to use the framework.
1. Update the [provider
   schema](/terraform/plugin/framework/migrating/providers#provider-schema) to use the framework.
1. Update each of the provider's resources, data sources, and other Terraform
   features to use the framework.
  1. Update related [tests](/terraform/plugin/framework/migrating/testing) to
     use the framework, and ensure that the tests fail.
  1. Migrate the [resource](/terraform/plugin/framework/migrating/resources) or
     [data source](/terraform/plugin/framework/migrating/data-sources).
  1. Verify that related tests now pass.
1. Remove any remaining references to SDKv2 libraries.
1. Verify that all of your tests continue to pass.
1. Once you have completed the migration process and verified that your provider
   works as expected, release a new version of your provider.

## Migrate over multiple release cycles

To migrate your provider incrementally across multiple release cycles, you will
use the `terraform-plugin-mux` module to implement a multiplex (**mux**)
provider server.

Follow the steps below.

1. Ensure the SDKv2 version of your provider has sufficient [test
   coverage](/terraform/plugin/sdkv2/testing) and that all tests pass.
1. Review your provider code for [SDKv2 resource data consistency
   errors](/terraform/plugin/sdkv2/resources/data-consistency-errors), which
   might affect migrating to the framework. Some errors can be resolved and
   verified with SDKv2 code before you begin migration. Otherwise, you will need
   to resolve these errors as [part of the
   migration](/terraform/plugin/framework/migrating/resources/crud#resolving-data-consistency-errors).
1. [Serve your
   provider](/terraform/plugin/framework/migrating/providers#serving-the-provider)
   via the framework.
1. Implement [a mux server](/terraform/plugin/framework/migrating/mux) for your
   provider.
1. Update the [provider
   definition](/terraform/plugin/framework/migrating/providers#provider-definition)
   to use the framework.
1. Update the [provider
   schema](/terraform/plugin/framework/migrating/providers#provider-schema) to use the framework.
1. Update each of the provider's resources, data sources, and other Terraform
   features to use the framework.
  1. Update related [tests](/terraform/plugin/framework/migrating/testing) to
     use the framework, and ensure that the tests fail.
  1. Migrate the [resource](/terraform/plugin/framework/migrating/resources) or
     [data source](/terraform/plugin/framework/migrating/data-sources).
  1. Verify that related tests now pass.
1. During migration, follow your normal release process to fix bugs and add
   features to your provider. By relying on a mux server and test-driven
   development, the migration should not affect users of existing configuration.
1. Remove the mux server configuration from your provider, as well as any
   remaining references to SDKv2 libraries.
1. Verify that all of your tests continue to pass.
1. Once you have completed the migration process and verified that your provider
   works as expected, release a new version of your provider.
