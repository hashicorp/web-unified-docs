---
layout: docs
page_title: Kubernetes integrations comparison
description: >-
  Compare the available Kubernetes integrations for Vault, including Vault Secrets
  Operator, Vault Secrets Store CSI provider,
  and Vault Agent Injector.
---

# Kubernetes integrations comparison

HashiCorp Vault provides three different integrations to help Kubernetes workloads consume secrets from Vault without modifying application code. Each integration has unique characteristics that make it suitable for different use cases.

Use the information below to compare the available integrations and choose the right solution for your needs.

## Features at a glance

| Feature                             | Vault Secrets Operator                                             | Vault Secrets Store CSI provider   | Vault Agent Injector
	| ----------------------------------- | --------------------------------- | ---------------------------- | --------------
	| Supported secret types              | Static/KV, PKI, Dynamic, Database, AppRole secret IDs            | All                  | All
	| Supported auth methods              | K8s, AppRole, GCP, AWS, JWT                                      | K8s, JWT             | K8s, other [auto-auth methods](/vault/docs/agent-and-proxy/autoauth)
	| Storage model                       | K8s Secrets or ephemeral volumes with CSI driver                 | Temporary K8s Secrets or ephemeral volumes    | Ephemeral volumes
	| Kubernetes-native                   | Yes                                                              | Yes                  | No
	| Secret data persistence             | Persisted in `etcd` or ephemeral with CSI driver                 | Temporarily persisted or ephemeral | Ephemeral
	| Secret data templating              | Yes                                                              | No                   | Yes
	| Requires Vault for Pod autoscaling  | No, except with CSI driver                                                               | Yes                  | Yes
	| Secret sharing between applications | Yes                                                              | Yes                  | No

## Vault Secrets Operator

The [Vault Secrets Operator](/vault/docs/platform/k8s/vso) synchronizes secrets from Vault to native Kubernetes Secrets. 
It operates by reconciling Custom Resource Definitions (CRDs) and syncing secret data from Vault to Kubernetes Secrets, which applications can consume using standard Kubernetes patterns.
Vault Enterprise users can also configure it to run a [CSI driver](/vault/docs/platform/k8s/vso/csi), which mounts secrets directly from Vault to application containers as volumes, bypassing Kubernetes Secrets. 

**Best for:** Teams who prefer native Kubernetes workflows and want the option of either durable secret storage within the cluster, or written to ephemeral volumes.

## Vault Secrets Store CSI provider

The [Vault Secrets Store CSI provider](/vault/docs/platform/k8s/csi) uses the vendor-neutral [Secrets Store CSI driver](https://secrets-store-csi-driver.sigs.k8s.io/) to mount secrets from Vault as ephemeral volumes. 
Vault Agent can be deployed alongside the provider to manage [caching and renewals](/vault/docs/agent-and-proxy/agent/caching#caching-and-renewals).

**Best for:** Organizations using multiple secret stores in addition to Vault, or those who prefer vendor-neutral CSI standards.

## Vault Agent Injector

The [Vault Agent Injector](/vault/docs/platform/k8s/injector) injects Vault Agent sidecar containers into Pods. 
The Agent containers authenticate with Vault and render secrets to a shared memory volume for consumption by application containers.

**Best for:** Applications that want to reference multiple Vault secrets in one template, or need a wider array of auth methods.


## Use case recommendations

The appropriate integration for your environment depends on the applicable
security policies, secret data governance, ease of use requirements, and
system availability guarantees.

| Limitation                                        | Vault Secrets Operator            | Vault Secrets Store CSI providerã€€| Vault Agent Injector
| ------------------------------------------------- | --------------------------------- | ---------------------------- | --------------
| Requires privileged Pod access                    | No, except with CSI driver        | Yes                          | No
| Flexibility in how to consume secrets             | Yes                               | Yes                          | No
| Low resource consumption (I/O, CPU, Memory)       | Yes                               | Yes                          | No
| Secret data limited to ephemeral volumes          | No                                | No                           | Yes
| Pod Autoscaling dependent on Vault availability   | No, except with CSI driver        | Yes                          | Yes
| Personas easily separated via K8s [RBAC] policies | Yes                               | No                           | No

[RBAC]: https://kubernetes.io/docs/reference/access-authn-authz/rbac


## Performance considerations

Performance characteristics vary significantly between integrations based on
their architectural patterns.

<Tabs>
	
<Tab heading="Load on Vault">

- **Vault Secrets Operator** - Lowest load due to per-CRD connections and cluster-local caching. 
Single manager for an entire cluster. If using the CSI driver, there will be one Vault connection pool per Node.
- **Vault Secrets Store CSI provider** - Higher load due to per-Pod connections.
- **Vault Agent Injector** - Highest load due to per-Pod connections and sidecar pattern.
	
</Tab>
	
<Tab heading="Rendered secret lifecycle">

- **Vault Secrets Operator** - Secret lifecycle is independent of Pod lifecycle due 
to caching in Kubernetes Secrets, unless using the Vault Secrets Operator CSI driver.
- **Vault Secrets Store CSI provider** - Secret lifecycle depends on Pod lifecycle, even with the 
option to cache in Kubernetes Secrets (they will be deleted after the Pod terminates).
- **Vault Agent Injector** - Secret lifecycle depends on Pod lifecycle.

</Tab>
	
<Tab heading="Resource consumption">

- **Vault Secrets Operator** - Lower consumption due to one client process needed per cluster. 
Medium consumption if using the CSI driver, due to one driver needed per node. 
- **Vault Secrets Store CSI provider** - Medium consumption due to one client process needed per node.
- **Vault Agent Injector** - Higher consumption due to one client process needed per Pod (as a sidecar container), though resource allocations can be tuned.

</Tab>
	
<Tab heading="Scalability">

Integrations that share secret data across Pods scale well as the number of Pods
increase. Integrations that create independent Vault connections for each Pod do
not scale well as the number of Pods increase.
	
- **Vault Secrets Operator** - shares secret data.
- **Vault Secrets Store CSI provider** - creates independent Vault connections.
- **Vault Agent Injector** - creates independent Vault connections.
	
</Tab>
	
</Tabs>


## Migration requirements 

- Migrating **to** Vault Secrets Operator requires:
    1. Creating CRDs for each relevant secret type. For example, `VaultStaticSecret`, `VaultDynamicSecret`, `VaultPKISecret`, or `CSISecrets`. Note that the CSI driver only supports KV secrets and AppRole secret IDs.
    1. Updating applications to use Kubernetes Secrets.
    1. If using the CSI driver functionality, you will also need:
      1. A Vault Enterprise license.
      1. To update Pod specifications to reference CSI volumes.

- Migrating **from** Vault Agent Injector may require updating your secret
  templates to use Vault Secrets Operator's `SecretTransformation` resource. 
  While both tools use Go templating, Vault Agent Injector templates may not work with the `SecretTransformation` resource out of the box.


## Next steps

For detailed implementation guidance, refer to the documentation for your chosen integration:
- [Vault Secrets Operator](/vault/docs/platform/k8s/vso)
- [Vault Secrets Store CSI provider](/vault/docs/platform/k8s/csi)
- [Vault Agent Injector](/vault/docs/platform/k8s/injector)
