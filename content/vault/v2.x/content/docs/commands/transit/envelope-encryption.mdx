---
layout: docs
page_title: transit envelope - Command
description: |-
  The "transit envelope" commands encrypt and decrypt large files using envelope encryption
  with keys managed by Transit.
---

# Envelope Encryption

The `transit envelope encrypt` and `transit envelope decrypt` commands use envelope encryption
with Transit-generated keys to encrypt and decrypt large files.

This needs access to the Transit key provided as input as well as the `derivedkeys` endpoint
(for time keyed window key management) or the `datakeys` endpoint (for per-session data keys).

## Examples

Encrypt `myfile.txt` using the Transit key `kek` for DEK generation and encryption:
```
vault transit envelope encrypt transit/keys/kek myfile.txt
```

Decrypt `myfile.txt.vee` using the key `key` to decrypt the EDK:
```
vault transit envelope decrypt transit/keys/key myfile.txt.vee
```

## Usage

### `encrypt`
This command requires two positional arguments:

1. `PATH`, the path to the transit key to use for DEK generation and encryption
   in the format of`<mount>/keys/<key-name>`, where `<mount>` is the path to the mount
   (using `-namespace=<ns>` to specify any namespaces), and `<key-name>`
   is the desired name of the key.
2. `FILENAMES`, the names of the files to encrypt.

The following flags are available:

- `-key_bits` `(int: 256)` - The number of bits for the AES Data Encryption Key (DEK)

- `-time-window-keys-per-day` `(int: 0)` - For time keyed window key management, how many keyed time
periods subdivide a day. 0 or not specified to use per session data keys.

- `-mime-type` `(string: "")` - Optionally, the mime-type of the plaintext file or stream.

- `-metadata` `(string: "")` - optional arbitrary metadata that will be authenticated at decrypt time.
Must be base64 encoded or use \"@file\" to read from a file.

- `-omit-key-data` `(bool: false)` - Do not add to the header information about the transit key's
namespace, path, and name

### `decrypt`
This command requires two positional arguments:

1. `PATH`, the path to the transit key that created the EDK
   in the format of`<mount>/keys/<key-name>`, where `<mount>` is the path to the mount
   (using `-namespace=<ns>` to specify any namespaces), and `<key-name>`
   is the desired name of the key.
2. `FILENAMES`, the names of the files to decrypt.

The following flags are available:

- `-time-window-keys-per-day` `(int: 0)` - For time keyed window key management, how many keyed time
periods subdivide a day. 0 or not specified to use per session data keys.

### `header`
This command requires one positional argument:

1. `FILENAMES`, the names of the files whose headers will be displayed.