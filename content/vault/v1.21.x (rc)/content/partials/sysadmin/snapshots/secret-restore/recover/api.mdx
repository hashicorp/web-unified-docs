<Note>
In the following examples, we set the HTTP method to `RECOVER`. Vault also supports
using the `PUT` or `POST` HTTP method for recover operations. If the request contains 
the `X-Vault-Recover-Snapshot-Id` header, then Vault will treat the request as a 
recover operation.
</Note>

Use the `X-Vault-Recover-Snapshot-Id` header and the snapshot ID to read from
the secret path and write the recovered data to the corresponding mount path on
the Vault server:

```shell-session
$ curl                                                    \
   --request RECOVER                                      \
   --header "X-Vault-Token: ${VAULT_TOKEN}"               \
   --header "X-Vault-Recover-Snapshot-Id: <snapshot_id>"  \
    ${VAULT_ADDR}/v1/<mount_path>/<secret_path>
```

For example, to recover secrets at `telemetry-systems/api-key` from a key/value
version 1 plugin mounted at the default path, call the `/kv/{secret_path}` endpoint:

<CodeBlockConfig hideClipboard>

```shell-session
$ curl                                                                           \
    --request RECOVER                                                            \
    --header "X-Vault-Token: ${VAULT_TOKEN}"                                     \
    --header "X-Vault-Recover-Snapshot-Id: 9465df92-8236-4af9-8cc8-b7460d882e41" \
    ${VAULT_ADDR}/v1/kv/telemetry-systems/api-key
```

</CodeBlockConfig>

You can also recover data to a different path than the original path in the
snapshot, so long as both paths are on the same mount. Use the `X-Vault-Recover-Source-Path`
header to specify the original path of the data in the snapshot:

```shell-session
$ curl                                                                     \ 
   --request RECOVER                                                       \
   --header "X-Vault-Token: ${VAULT_TOKEN}"                                \
   --header "X-Vault-Recover-Snapshot-Id: <snapshot_id>"                   \
   --header "X-Vault-Recover-Source-Path: <mount_path>/<old_secret_path>"  \
     ${VAULT_ADDR}/v1/<mount_path>/<new_secret_path>
```

For example, to recover secrets at `telemetry-systems/api-key` from a key/value
version 1 plugin mounted at the default path, but write the recovered data to
`telemetry-systems/api-key-recovered`, call the `/kv/{new_secret_path}` endpoint:

<CodeBlockConfig hideClipboard>

```shell-session
$ curl                                                                            \
    --request RECOVER                                                             \
    --header "X-Vault-Token: ${VAULT_TOKEN}"                                      \
    --header "X-Vault-Recover-Snapshot-Id: 9465df92-8236-4af9-8cc8-b7460d882e41"  \
    --header "X-Vault-Recover-Source-Path: kv/telemetry-systems/api-key"          \
    ${VAULT_ADDR}/v1/kv/telemetry-systems/api-key-recovered
```

</CodeBlockConfig>