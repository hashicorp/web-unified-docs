The Vault Helm chart contains all the necessary components to run Vault in
several different modes.

<Tip title="Set cluster name for Prometheus monitoring">

   If you use Prometheus for monitoring and alerting, we recommend setting the
   `cluster_name` in your HCL configuration using the `config` parameter in the
   Vault Helm chart.

</Tip>

1. Create a file named `helm-vault-raft-values.yml` with you preferred
   deployment configuration. We recommend using meaningful cluster names for
   your data clusters. For example, the following file creates a basic
   deployment configuration that deploys the Vault pods and Vault Agent Injector
   pod in the default namespace and uses Vault integrated storage :

   ```shell-session
   $ cat > helm-vault-raft-values.yml <<EOF
   server:
      affinity: ""
      ha:
         enabled: true
         raft:
            enabled: true
            setNodeId: true
            config: |
               cluster_name = "vault-integrated-storage"
               storage "raft" {
                  path    = "/vault/data/"
               }

               listener "tcp" {
                  address = "[::]:8200"
                  cluster_address = "[::]:8201"
                  tls_disable = "true"
               }
               service_registration "kubernetes" {}
   EOF
   ```

1. Use your new deployment configuration file with `helm install` to install the
   latest version of the Vault Helm chart and create your Vault server
   instances:

   ```shell-session
   $ helm install       \
      <cluster_name>    \
      <chart_reference> \
      --values <yml_config_file>
   ```
   
   For example:

   <CodeBlockConfig hideClipboard>

   ```shell-session
   $ helm install     \
      vault           \
      hashicorp/Vault \
      --values helm-vault-raft-values.yml
   ```

   </CodeBlockConfig>