---
page_title: Deploy the Vault model context protocol (MCP) server 
description: |-
 Learn how to deploy the Vault MCP server, which helps you interact with HashiCorp Vault APIs.
---

# Deploy the Vault MCP server

The Vault Model Context Protocol (MCP) server enables AI models to interact with Vault and perform actions using up-to-date APIs. This page explains how to install, configure, and integrate the MCP server with your AI client.

## Overview

The Vault MCP server is a specialized service that provides AI models with access to Vault APIs.
You can deploy the server using the `stdio` mode for direct communication through standard input/output, or using `streamable-http` for network-based communication.

The Vault MCP server is still in beta. We recommend that you only run the server locally, without exposing it to other network users.

### Installation methods

Choose from three installation options based on your environment and preferences:

| Method | Best for | Requirements |
|--------|----------|--------------|
| [Docker](#run-in-docker) | Most users, consistent environments | Docker Engine v20.10.21+ or Docker Desktop v4.14.0+. Refer to the [Docker documentation](https://docs.docker.com/desktop) for installation instructions. |
| [Compiled binary](#run-the-compiled-binary) | Lightweight deployments, specific OS needs | Compatible operating system |
| [Source installation](#install-from-source) | Development, customization | Go development environment |

## Run in Docker

Docker provides the most reliable and consistent way to run the Vault MCP server across different environments.

1. Start Docker on your system.
1. Integrate with your AI client:

<Tabs>

<Tab heading="Visual Studio Code">

1. Verify [Visual Studio Code](https://code.visualstudio.com/docs) is installed.
1. Verify the [GitHub Copilot extension](https://code.visualstudio.com/docs/copilot/overview) is installed and chats are configured to `Agent` mode.
1. Verify MCP support enabled, refer to the [VS Code MCP documentation](https://code.visualstudio.com/docs/copilot/chat/mcp-servers) for more information.
1. To use the MCP server in all workspaces, add the following configuration to your user settings JSON file:

  ```json
  {
    "mcp": {
      "servers": {
        "vault-mcp-server": {
          "command": "docker",
          "args": [
            "run",
            "-i",
            "--rm",
            "-e", "VAULT_ADDR",
            "-e", "VAULT_NAMESPACE",
            "-e", "VAULT_TOKEN",
            "hashicorp/vault-mcp-server"
          ],
          "env": {
            "VAULT_ADDR": "${input:vault_address}",
            "VAULT_NAMESPACE": "${input:vault_namespace}",
            "VAULT_TOKEN": "${input:vault_token}"
          },
          "type": "stdio"
        }
      },
      "inputs": [
        {
            "type": "promptString",
            "id": "vault_address",
            "description": "Vault address",
            "password": false
        },
        {
            "type": "promptString",
            "id": "vault_namespace",
            "description": "Vault Namespace (optional)",
            "password": false
        },
        {
            "type": "promptString",
            "id": "vault_token",
            "description": "Vault Token",
            "password": true
        }
      ]
    }
  }
  ```

  Alternatively, to use the server in a specific workspace, create an `mcp.json` file with the following configuration in your workspace's `.vscode` directory:

  ```json
{
  "inputs": [
    {
        "type": "promptString",
        "id": "vault_address",
        "description": "Vault address",
        "password": false
    },
    {
      "type": "promptString",
      "id": "vault-namespace",
      "description": "Vault Namespace (optional)",
      "password": false
    },
    {
      "type": "promptString",
      "id": "vault-token",
      "description": "Vault Token",
      "password": true
    }
  ],
  "servers": {
    "vault-mcp-server": {
        "command": "docker",
        "args": [
            "run",
            "-i",
            "--rm",
            "-e", "VAULT_ADDR",
            "-e", "VAULT_NAMESPACE",
            "-e", "VAULT_TOKEN",
            "hashicorp/vault-mcp-server"
        ],
        "env": {
            "VAULT_ADDR": "${input:vault_address}",
            "VAULT_NAMESPACE": "${input:vault_namespace}",
            "VAULT_TOKEN": "${input:vault_token}"
        },
        "type": "stdio"
    }
  }
}
  ```

1. Verify the integration by opening the chat interface and selecting **Agent** from the mode settings.
1. Click the tools icon to verify that Vault MCP server tools appear in the available tools list.

</Tab>
<Tab heading="Cursor">

1. Verify [Cursor](https://www.cursor.com) is installed.
1. Verify the MCP support configured, refer to [Cursor's MCP documentation](https://docs.cursor.com/context/model-context-protocol#configuring-mcp-servers) for more information.    
1. To use the MCP server in all workspaces, add the following configuration to your user settings JSON file:

  ```json
  {
    "mcp": {
      "servers": {
        "vault": {
            "command": "docker",
            "args": [
                "run",
                "-i",
                "--rm",
                "-e", "<<vault_address_here>>",
                "-e", "<<vault_namespace_here>>",
                "-e", "<<vault_token_here>>",
                "hashicorp/vault-mcp-server"
            ],
            "type": "stdio"
        }
      }
    }
  }
  ```

  Alternatively, to use the server in a specific workspace, create an `mcp.json` file with the following configuration in your workspace's `.vscode` directory:

  ```json
  {
    "servers": {
    "vault": {
        "command": "docker",
        "args": [
            "run",
            "-i",
            "--rm",
            "-e", "<<vault_address_here>>",
            "-e", "<<vault_namespace_here>>",
            "-e", "<<vault_token_here>>",
            "hashicorp/vault-mcp-server"
        ],
        "type": "stdio"
    }
    }
  }
  ```

1. Verify the installation by opening the chat pane and selecting **Chat Settings** from the ellipses menu.
1. Choose **Agent** from the **Default new chat mode** drop-down menu.
1. Select **MCP** from the **Cursor Settings** sidebar to verify that Vault MCP server tools are enabled.
  
</Tab>
<Tab heading="Claude Desktop">

1. Verify [Claude Desktop](https://support.anthropic.com/en/articles/10065433-installing-claude-for-desktop) is installed.
1. Verify MCP support is configured, refer to [Claude Desktop's MCP documentation](https://modelcontextprotocol.io/quickstart/user) for more information.    
1. Create or edit the `mcp.json` file and add the following configuration:

  ```json
  {
    "mcpServers": {
      "servers": {
        "vault-mcp-server": {
            "command": "docker",
            "args": [
                "run",
                "-i",
                "--rm",
                "-e", "<<vault_address_here>>",
                "-e", "<<vault_namespace_here>>",
                "-e", "<<vault_token_here>>",
                "hashicorp/vault-mcp-server"
            ],
            "type": "stdio"
        }
      }
    }
  }
  ```

1. Verify the integration by opening the chat pane and clicking the **search and tools** slider icon.
1. Click **vault-mcp-server** to verify that all tools are enabled and accessible.

</Tab>
<Tab heading="Amazon Q">

1. Verify [Amazon Q](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/command-line-installing.html) is installed.
1. Verify MCP support is configured, refer to [Amazon Q's MCP documentation](https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/qdev-mcp.html) for more information.    
1. Create or edit the `mcp.json` file with the following configuration:

```json
{
  "mcpServers": {
    "servers": {
      "vault-mcp-server": {
        "command": "docker",
        "args": [
            "run",
            "-i",
            "--rm",
            "-e", "<<vault_address_here>>",
            "-e", "<<vault_namespace_here>>",
            "-e", "<<vault_token_here>>",
            "hashicorp/vault-mcp-server"
        ],
        "type": "stdio"
      }
    }
  }
}
```
  
</Tab>
</Tabs>

## Run the compiled binary

The compiled binary option provides a lightweight installation without Docker dependencies. This method is ideal when you want to minimize resource usage or work in environments with restricted container access.

1. Download the binary for your operating system and architecture, visit the [release library](https://releases.hashicorp.com/vault-mcp-server).  
1. Add the following configuration to your client settings. Replace `/path/to/vault-mcp-server` with the actual path to your downloaded binary.

  <CodeBlockConfig highlight="5">

  ```json
  {
    "mcp": {
      "servers": {
        "vault": {
          "command": "/path/to/vault-mcp-server",
          "args": ["stdio"],
          "env": {
            "VAULT_ADDR": "<<vault_address_here>>",
            "VAULT_NAMESPACE": "<<vault_namespace_here>>",
            "VAULT_TOKEN": "<<vault_token_here>>"
			    }
        }
      }
    }
  }
  ```

  </CodeBlockConfig>

## Install from source

Installing from source gives you access to the latest features and allows for customization. This method requires a Go development environment.

1. Install the latest stable release.

  ```shell-session
  $ go install github.com/hashicorp/vault-mcp-server/cmd/vault-mcp-server@latest
  ```

  Alternatively, you can install the development version on `main`.

  ```shell-session
  $ go install github.com/hashicorp/vault-mcp-server/cmd/vault-mcp-server@main
  ```

1. After installation, add the following configuration to your client.

  ```json
  {
    "mcp": {
      "servers": {
        "vault": {
          "command": "/path/to/vault-mcp-server",
          "args": ["stdio"],
          "env": {
            "VAULT_ADDR": "<<vault_address_here>>",
            "VAULT_NAMESPACE": "<<vault_namespace_here>>",
            "VAULT_TOKEN": "<<vault_token_here>>"
          }
        }
      }
    }
  }
  ```

  Replace `/path/to/vault-mcp-server` with the actual path to your downloaded binary. The binary location depends on your Go installation and `GOPATH` configuration. 
  
  Use `which vault-mcp-server` to find the installed binary path.

## Start the server

You can use the `vault-mcp-server` CLI and specify the transport protocol you want to use to start the server. Refer to the [transport protocols reference](/vault/docs/mcp-server/reference#transport-protocols) for more information.

Start the server in `stdio` mode. 

```shell-session
$ vault-mcp-server stdio [--log-file /path/to/log]
```

Run the following command on the local instance to start the server in `streamable-http` mode:

```shell-session
$ vault-mcp-server streamable-http \
  [--transport-port 8080] \
  [--transport-host 127.0.0.1] \
  [--mcp-endpoint /mcp] \
  [--log-file /path/to/log]
```

Instead of setting values manually, you can also use the supported environment variables. Refer to the [environment variables reference](/vault/docs/mcp-server/reference#environment-variables) for details.

## Next steps

- Begin prompting your AI model about Vault operations. Refer to [Prompt an AI model](/vault/docs/mcp-server/prompt-model) for guidance on effective prompting techniques.
- Ask for help with specific Vault operations and workflows.
- Explore advanced configuration options for your specific deployment needs.
