---
layout: docs
page_title: Important changes
description: >-
  Deprecations, important or breaking changes, and remediation recommendations
  for upgrading Vault.
---

# Important changes

**Last updated**: 2025-10-04

Always review important or breaking changes and remediation recommendations
before upgrading Vault.

## Breaking changes

@include '../../../global/partials/important-changes/breaking-changes/client-count-timestamp.mdx'

### Audiences required for Kubernetes authentication roles ((##k8-audience-required))

| Change       | Affected version | Vault edition
| ------------ | ---------------- | -------------
| Breaking     | 1.21.0           | All

All tokens for Kubernetes authentication roles must provide explicit audience
details. Vault validates the audience claim in the JWT token to ensure that the
token is actually intended for Vault and not another service.

If you do not provide an audience, authentication fails.

#### Recommendation

Update your Kubernetes authentication roles to include the audience parameter.
For example:

```shell-session
vault write auth/kubernetes/role/demo \
    bound_service_account_names=myapp \
    bound_service_account_namespaces=default \
    policies=default \
    ttl=1h
```

Refer to the [Kubernetes authentication docs](/vault/docs/auth/kubernetes) for
more information.

@include '../../../global/partials/important-changes/breaking-changes/allowed-parameters-list.mdx'

---

## New behavior

### Rotation manager schedule strings in UTC ((#rotation-manager-utc))

| Change       | Affected version | Vault edition
| ------------ | ---------------- | -------------
| New behavior | 1.21.0+             | Enterprise

Vault interprets `rotation_schedule` strings relative to UTC to match the
behavior of static role rotations in the database plugin. Old rotations use
their existing schedule until you manually update rotation with an API call.

## Known issues

### Missed events with multiple event clients ((#missed-events)) <EnterpriseAlert inline="true" />

| Change      | Affected version | Fixed version
| ----------- | ---------------- | -------------
| Known issue | 1.21.0+ent       | None

Users may miss events when multiple clients subscribe to the same performance
standby node in a cluster with the same namespace and event type filters because
one client disconnecting effectively unsubscribes the remaining clients who no
longer receive events.

#### Recommendation

If you have multiple event subscribers with the same namespace and event type
filters you have two options:

1. Spread them out among the nodes of the Vault cluster.
1. Only subscribe to events on the active node of the cluster.

@include '../../../global/partials/important-changes/known-issue/azure-static-roles.mdx'

### GUI KV v2 metadata list request fails for some policies ((#gui-kvv2-metadata-policy))

| Change      | Affected version | Fixed version
| ----------- | ---------------- | -------------
| Known issue | 1.21.0           | None

#### Issue

Users cannot list KV v2 secrets in the GUI when the policy granting `list`
access to metadata does not include a trailing slash. For example:

```
path "secret/metadata/:path" {   
  capabilities = ["list"] 
}
```

#### Workaround

Option 1: Use the API explorer to list KV v2 secrets instead of the KV v2 GUI page:

1. Select **Tools** from the Vault GUI sidebar.
1. Click **API Explorer**.
1. Enter the KV v2 plugin mount path in the "Filter by tag" search bar.
1. Expand the `GET /:mount/metadata/{path}/` endpoint and click **Try it out**.
1. Input the secret `path` click **Execute** to perform the HTTP request.

Option 2: Add a trailing slash to the policy path:

```
path "secret/metadata/:path/" {   
  capabilities = ["list"] 
}
```



### GUI KV v2 listing secrets fails in namespaces ((#gui-kvv2-list-namespaces)) <EnterpriseAlert inline="true" />

| Change      | Affected version | Fixed version
| ----------- | ---------------- | -------------
| Known issue | 1.21.0+ent       | None

#### Issue

The GUI displays "No secrets yet" message for KV v2 engines with existing secrets when
users navigate to the plugins secret list in a namespace.

#### Workaround

Use the CLI emulator to list KV v2 secrets:

1. Navigate to the desired namespace.
1. Toggle open the web REPL.
1. Input the command `list <mount_path_to_kv_plugin_2>/metadata` and press **Enter**.
