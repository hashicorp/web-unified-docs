---
page_title: Azure Active Directory OIDC SSO Configuration
description: |-
  Set up OIDC SSO with Azure Active Directory identity provider.
---

# Azure Active Directory OIDC SSO Configuration

This page explains how to set up SSO in HashiCorp Cloud Platform (HCP) with the Azure Active Directory identity provider. Refer to [SSO Overview](/hcp/docs/hcp/admin/iam/sso) for details about managing organizations with SSO enabled.

## Configure SSO

Organization owners and admins can set up SSO. 

To begin configuring SSO:

1. [Log in to HCP](https://portal.cloud.hashicorp.com/) and go to your organization.
1. Click **Settings** and then click **SSO**. The Single Sign-On page appears.
1. Select **OIDC SSO**.
1. Click **Configure selected SSO method**. The Setup OIDC SSO page appears where you will enter the required information for Okta.

## Verify Your Domain

You need a DNS record (secret value to set as TXT) to prove ownership of a domain. HCP uses the domain to match the email addresses for SSO. You must use different SSO domains for each HCP organization. If you try to reuse a domain name, the DNS connection request will fail.

To verify your domain:

1. Copy the verification TXT record from the HCP SSO configuration to the DNS records of any email domains your organization uses.
1. Return to the HCP Settings page and add your email address domains.
1. Click **Verify domains**.

If the verification is successful, you can continue configuring SSO. If the request fails, your changes to the DNS records may not have propagated yet. It can take up to 72 hours.

## OIDC Integration in Azure Active Directory

You must add information from the Initiate OIDC Integration section in HCP to the OIDC configuration for an Enterprise application in Azure Active Directory.

To add the required integration information in Azure Active Directory:

1. Log in to your [Microsoft Azure portal](https://portal.azure.com/) and go to Azure Active Directory.
1. Click **Properties** and save your **Tenant ID** for later.
1. Under **Manage**, select **Enterprise applications**.
1. Click **New application**.
    ![Azure Active Directory | Enterprise Applications](/img/docs/OIDC_Azure_Enterprise_Apps.png)

1. At the top of the Azure AD Gallery page, click **Create your own application** and enter a name.
1. Select **Integrate any other application you don't find in the gallery (Non-gallery**) and then click **Create**. You’ll be taken to the application overview screen.
   
1. You’ll need to register your application. Select **Home** in the breadcrumbs to go back to the Home screen.
    ![Azure Active Directory | Enterprise Applications App Overview Screen](/img/docs/Azure_appoverview.png)

1. Select **Azure Active Directory**.
1. In the menu, select **App Registration**.
1. Click **New Registration**.
1. On the **Register an application** page, give the application a name.
1. Set Supported account types to **Accounts in this organizational directory only (Default Directory only - Single tenant)**.
1. Click **Register**.
1. Copy the **Application (client) ID** and save for later.

    ![Azure Active Directory | App Registrations Screen](/img/docs/azure_active_directory_app_registrations.png)

1. Click **Add a Redirect URI**.
1. Under Platform configurations, click **Add a platform**.
1. Select **Web**.
1. The Redirect URI is `https://flow.idp.hashicorp.com/sso/oidc/callback`.
1. Under Implicit grant and hybrid flows, check:
   1. **Access tokens (used for implicit flows)**
   1. **ID tokens (used for implicit and hybrid flows)**

   ![Azure App Configuration Screen](/img/docs/azure_config_web_app.png)

1. Click **Configure**.
1. Under **Manage**, select **Certificates & secrets**.
1. Click **New client secret**.
1. Give the secret a name and set the expiration date to your company's policy.
1. Create client credentials and Add Redirect URL. Select **Add a secret**. 
   ![Azure Add a Client page](/img/docs/azure-add-client-page.png)

1. Copy the **Value**.
   ![Azure Client Secrets page](/img/docs/azure-client-creds.png)

1. Switch back to the HCP Portal OIDC page to enter the copied **Client ID**, **Client Secret**, **Redirect URI** and **Issuer URL** values.
1. Enter `https://login.microsoftonline.com/<YOUR_TENANT_ID>/v2.0` as the **Issuer URL**, substituting your Tenant ID for `<YOUR_TENANT_ID>`, to finish the configuration.
