---
page_title: Service principal keys
description: |-
  Service principal keys are values attached to service principals that are used to authenticate with the HCP public API. Learn how to create and delete service principal keys.
---

# Service principal keys

This page describes the steps to generate and delete service principal keys using the HCP UI, HCP CLI, or HCP Terraform provider. On HCP, [service principals](/hcp/docs/hcp/iam/service-principal) are attached to authentication keys that include a pair value of the Client ID and the Client secret. The external client uses the key to authenticate with the HCP public API.

The maximum allowed keys for a single service principal is two.

## Generate a service principal key

You can generate _organization-level_ and _project-level_ service principal keys. The service principal key should exist at the same level of the service principal it attaches to.

### Organization-level keys

<Tabs>
<Tab heading="HCP UI" group="ui">

1. Log into [the HCP portal](https://portal.cloud.hashicorp.com/) and choose your organization.
1. Click **Access control (IAM)**.
1. Click **Service principals**.
1. Click the specific service principal to open the detailed view screen.
1. Click **Keys**.
1. Click **Generate key**.
1. Copy the Client secret and save it to a secure location for later use.

</Tab>

<Tab heading="HCP CLI" group="cli">

Use the [`hcp iam service-principals keys create` command](/hcp/docs/cli/commands/iam/service-principals/keys/create) to create the service principal key.

The following example creates a service principal key for the `example-sp` service principal.

```shell-session
$ hcp iam service-principals keys create iam/organization/d3e891e7-35c5-4ffb-a192-567e02ec566f/service-principal/example-sp
```

</Tab>

<Tab heading="Terraform" group="tf">

Use the [`hcp_service_principal_key ` resource](https://registry.terraform.io/providers/hashicorp/hcp/latest/docs/resources/service_principal_key).

```hcl
data "hcp_organization" "my_org" {
}

resource "hcp_service_principal" "example" {
  name = "example-sp"
}

resource "hcp_service_principal_key" "key" {
  service_principal = hcp_service_principal.example.resource_name
}
```

</Tab>
</Tabs>

### Project-level keys

<Tabs>
<Tab heading="HCP UI" group="ui">

1. Log into [the HCP portal](https://portal.cloud.hashicorp.com/) and choose your organization.
1. Click **Projects** and select the desired project to create a service principal in.
1. Click **Access control (IAM)**.
1. Click **Service principals**.
1. Click the specific service principal to open the detailed view screen.
1. Click **Keys**.
1. Click **Generate key**.
1. Copy the Client secret and save it to a secure location for later use.

</Tab>

<Tab heading="HCP CLI" group="cli">

Use the  [`hcp iam service-principals keys create` command](/hcp/docs/cli/commands/iam/service-principals/keys/create) to create the service principal key.

The following example creates a key for a project-level service principal named `example-sp`.

```shell-session
$ hcp iam service-principals keys create iam/project/d3e891e7-35c5-4ffb-a192-567e02ec566f/service-principal/example-sp
```

</Tab>

<Tab heading="Terraform" group="tf">

Use the [`hcp_service_principal_key ` resource](https://registry.terraform.io/providers/hashicorp/hcp/latest/docs/resources/service_principal_key).

```hcl
resource "hcp_project" "my_proj" {
  name = "platform-dev"
}

resource "hcp_service_principal" "example" {
  name   = "workload-sp"
  parent = hcp_project.my_proj.resource_name
}

resource "hcp_service_principal_key" "key" {
  service_principal = hcp_service_principal.example.resource_name
}
```

</Tab>
</Tabs>

## Delete a service principal key

Follow similar steps to delete organization-level and project-level service principal keys.

### Organization-level keys

<Tabs>
<Tab heading="HCP UI" group="ui">

1. Log into [the HCP portal](https://portal.cloud.hashicorp.com/) and choose your organization.
1. Click **Access control (IAM)**.
1. Click **Service principals**.
1. Click the specific service principal to open the detailed view screen.
1. Click **Keys**.
1. Click on the dropdown next to the specific key you want to delete.
1. Click **Delete key**.
1. Type `DELETE` in the prompted field and click **Delete**. 

</Tab>

<Tab heading="HCP CLI" group="cli">

Use the [`hcp iam service-principals keys delete` command](/hcp/docs/cli/commands/iam/service-principals/keys/delete) to delete a service principal key.

The following example deletes a service principal key that is associated with the `example-sp` service principal.

```shell-session
$ hcp iam service-principals key delete iam/organization/d3e891e7-35c5-4ffb-a192-567e02ec566f/service-principal/example-sp/key/3KgtSLWTSs
```

</Tab>

<Tab heading="Terraform" group="tf">

Use the [`terraform destroy` command](/terraform/cli/commands/destroy) with the `-target` flag.

```hcl
$ terraform destroy -target "hcp_service_principal_key.key"
```

</Tab>
</Tabs>

### Project-level service principals

<Tabs>
<Tab heading="HCP UI" group="ui">

1. Log into [the HCP portal](https://portal.cloud.hashicorp.com/) and choose your organization.
1. Click **Projects** and select the desired project to create a service principal in.
1. Click **Access control (IAM)**.
1. Click **Service principals**.
1. Click the specific service principal to open the detailed view screen.
1. Click **Keys**.
1. Click on the dropdown next to the specific key you want to delete.
1. Click **Delete key**.
1. Type `DELETE` in the prompted field and click **Delete**.

</Tab>

<Tab heading="HCP CLI" group="cli">

Use the [`hcp iam service-principals delete` command](/hcp/docs/cli/commands/iam/service-principals/delete) to delete a service principal key.

The following example deletes a service principal key that is associated with the `example-sp` project-level service principal.

```shell-session
$ hcp iam service-principals keys delete iam/project/d3e891e7-35c5-4ffb-a192-567e02ec566f/service-principal/example-sp/key/3KgtSLWTSs
```

</Tab>

<Tab heading="Terraform" group="tf">

Use the [`terraform destroy` command](/terraform/cli/commands/destroy) with the `-target` flag.

```shell-session
$ terraform destroy -target "hcp_service_principal_key.key"
```

</Tab>
</Tabs>