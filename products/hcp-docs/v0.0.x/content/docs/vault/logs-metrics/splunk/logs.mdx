---
page_title: Configure HCP Vault audit log streaming to Splunk
sidebar_title: Splunk
description: |-
  Configure HCP Vault audit log streaming to Splunk
---

# Configure HCP Vault audit log streaming to Splunk

<Note title="Availability">

HCP Vault audit logs streaming is available for all
production grade clusters. The feature is not available for Development tier
clusters.

</Note>

## Prerequisites

To configure audit logs streaming to Splunk, you will need to
have:

- Have access to a paid Splunk Cloud or Enterprise account.

  <Note>

  Splunk Cloud Trial account would not work with HCP Vault as its HEC (HTTP Event Collector ) listener is hosted using a self signed certificate that HCP won't trust.

  </Note>

- Your Splunk [HEC](https://docs.splunk.com/Documentation/Splunk/8.2.2/Data/UsetheHTTPEventCollector) and token.

  <Note>

  HEC endpoint should be created using `events` and not `metrics` index in Splunk.

  </Note>

- A HCP account with Admin or Contributor [role assigned in HCP](/hcp/docs/hcp/create-account)
- A production grade HCP Vault cluster

   <Note>

   If you do not have a cluster running, refer to the [Create a Vault Cluster on
   HCP](/vault/tutorials/cloud/get-started-vault) or  the [Deploy HCP Vault with
   Terraform](/vault/tutorials/cloud-ops/terraform-hcp-provider-vault) tutorial to create an HCP Vault
   cluster.

   </Note>

## Enable audit logs streaming

1. From the HCP Vault cluster **Overview** page, select the **Audit Logs** view.

1. Click **Enable Streaming**.

1. From the **Enable audit logs streaming** view, select **Splunk** as the
   provider and click **Next**.

1. Under **Splunk configuration**, enter your **HTTP Event Collector (HEC)
   Endpoint** URL and event collector **Token**.

1. Click **Save**.

   <Note>

   At this time HCP Vault only supports audit log streaming to one
   log endpoint at a time.

   </Note>

Refer to the Splunk documentation for instructions on log querying.

## Example Terraform configuration (optional)

Refer to the Terraform Registry [`hcp_vault_cluster` documentation](https://registry.terraform.io/providers/hashicorp/hcp/latest/docs/resources/vault_cluster#nested-schema-for-audit_log_config)
for more information.

```hcl
resource "hcp_vault_cluster" "example" {
  cluster_id = "vault-cluster"
  hvn_id     = hcp_hvn.example.hvn_id
  tier       = "standard_large"
  audit_log_config {
    splunk_token = "splunk_token"
    splunk_hecendpoint = "splunk_hecendpoint"
  }
}
```

## Edit the audit log streaming configuration (optional)

To edit a audit log streaming integration, perform the following steps.

1. From the **Audit Logs** page, click on the **Manage** drop-down, then **Edit
configuration**.

1. Edit the configuration, then click **Save**.

## Disable audit log streaming (optional)

To disable a audit log streaming integration, from the **Audit Logs** page,
click on the **Manage** drop-down, then **Disable streaming**.